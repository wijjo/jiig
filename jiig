#!/usr/bin/env jiig-run
"""
Main Jiig program.
"""

tool_name = 'jiig'

project_name = 'Jiig'

description = 'Jiig tool.'

version = '0.5'

author = 'Steve Cooper'

# noinspection PyShadowingBuiltins
copyright = '2021, Steve Cooper'

pip_packages = ['pdoc3', 'PySimpleGUI']

doc_api_packages = ['jiig']

doc_api_packages_excluded = [
    'jiig.cli_parsing.implementations',
    'jiig.gui',
    'jiig.initialization',
    'jiig.tasks',
]


def boot():
    """
    Called by jiig-run to provide a Tool class.

    It is called once the runtime environment is established, and any needed
    virtual environment is created and or loaded.

    :return: tool class type
    """
    from jiig import model

    class JiigTool(model.Tool):
        """Jiig tool class."""

        from jiig.task import task, tool, venv
        tasks = {
            'task': task,
            'tool': tool,
            'venv': venv,
        }

        from jiig.task import alias, help, pdoc
        secondary_tasks = {
            'alias': alias,
            'help': help,
            'pdoc': pdoc
        }

        from jiig.task import unittest
        hidden_tasks = {
            'unittest': unittest,
        }

    return JiigTool
