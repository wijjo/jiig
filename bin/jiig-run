#!/usr/bin/env python3

"""
Front end script for Jiig-based tools.

Use as the program in the "shebang" line of the main script.
"""

import os
import sys

# Sniff test that it seems to have been invoked by script "shebang" line.
if len(sys.argv) < 2 or not os.path.isfile(sys.argv[1]):
    sys.stderr.write(f'FATAL: {os.path.basename(sys.argv[0])}'
                     f' should not be run directly.{os.linesep}')
    sys.exit(1)


def main():
    # Enable jiig.startup import in order to use tool_script_main().
    jiig_root_folder = os.path.dirname(os.path.dirname(os.path.realpath(__file__)))
    if jiig_root_folder not in sys.path:
        sys.path.insert(0, jiig_root_folder)
    from jiig.startup import tool_script_main
    tool_script_main()


if __name__ == '__main__':
    main()
