#!/usr/bin/env jiig-run

"""
mytool (jiig monolithic tool script).
"""

import jiig


HELLO_TASK = jiig.Task(
    description='Display hello message.',
    args={
        'TEXAS_STYLE[!]': ('-t', 'greet with a drawl'),
        'NAME[?]': 'optional name',
    },
)


@HELLO_TASK.run
def hello(_runner: jiig.Runner, data):
    greeting = 'Howdy' if data.TEXAS_STYLE else 'Hello'
    if data.NAME:
        greeting = f'{greeting} {data.NAME}'
    jiig.util.process.run(['date'], quiet=True)
    print(f'{greeting}:')
    print('')
    print(f'Sample task script: "mytool"')
    print('')
    print('Use the sample script as a basis for defining your own custom')
    print('tool, tasks, options, and arguments.')


ROOT_TASK = jiig.Task(
    tasks={
        'hello': HELLO_TASK,
        'alias[s]': jiig.task.alias,
        'help[s]': jiig.task.help,
    },
)


TOOL_NAME = 'mytool'

DESCRIPTION = 'mytool description.'
